---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "bitwarden-sm_secret Resource - terraform-provider-bitwarden-sm"
subcategory: "Resource"
description: |-
  The `secret` resource manages secrets in Bitwarden Secrets Manager.
---

# bitwarden-sm_secret (Resource)

The `secret` resource manages secrets in Bitwarden Secrets Manager.

## Example usage

```terraform
resource "bitwarden-sm_secret" "db_admin_secret" {
  key = "db_admin_password" #
  # It is not recommended to provide the actual secret value via configuration file
  # By using a terraform variable, users can inject the secret value during runtime via environment variables
  value      = var.value
  note       = "The secret value was provided via terraform configuration"
  project_id = var.project_id
}

resource "local_file" "db_admin_credentials" {
  content  = <<EOF
{
    "db_username_secret": {
        "id" : "${resource.bitwarden-sm_secret.db_admin_secret.id}",
        "key" : "${resource.bitwarden-sm_secret.db_admin_secret.key}",
        "value" : "${resource.bitwarden-sm_secret.db_admin_secret.value}",
        "note" : "${resource.bitwarden-sm_secret.db_admin_secret.note}",
        "project_id" : "${resource.bitwarden-sm_secret.db_admin_secret.project_id}",
        "organization_id" : "${resource.bitwarden-sm_secret.db_admin_secret.organization_id}",
        "creation_date" : "${resource.bitwarden-sm_secret.db_admin_secret.creation_date}",
        "revision_date" : "${resource.bitwarden-sm_secret.db_admin_secret.revision_date}"
    }
}
EOF
  filename = "${path.module}/db_admin_credentials.json"
}

# If no secret value is provided, the provider will generate one
# Secret generation is the suggested approach.
resource "bitwarden-sm_secret" "service_account_secret" {
  key        = "db_service_account"
  project_id = var.project_id
}

resource "local_file" "service_account_secret" {
  content  = <<EOF
{
    "db_username_secret": {
        "id" : "${resource.bitwarden-sm_secret.service_account_secret.id}",
        "key" : "${resource.bitwarden-sm_secret.service_account_secret.key}",
        "value" : "${resource.bitwarden-sm_secret.service_account_secret.value}",
        "note" : "${resource.bitwarden-sm_secret.service_account_secret.note}",
        "project_id" : "${resource.bitwarden-sm_secret.service_account_secret.project_id}",
        "organization_id" : "${resource.bitwarden-sm_secret.service_account_secret.organization_id}",
        "creation_date" : "${resource.bitwarden-sm_secret.service_account_secret.creation_date}",
        "revision_date" : "${resource.bitwarden-sm_secret.service_account_secret.revision_date}"
    }
}
EOF
  filename = "${path.module}/service_account_secret.json"
}

resource "bitwarden-sm_secret" "service_account_token" {
  key         = "db_service_account_token"
  project_id  = var.project_id
  length      = 32
  special     = true
  min_special = 5
}

resource "local_file" "service_account_token" {
  content  = <<EOF
{
    "db_username_secret": {
        "id" : "${resource.bitwarden-sm_secret.service_account_token.id}",
        "key" : "${resource.bitwarden-sm_secret.service_account_token.key}",
        "value" : "${resource.bitwarden-sm_secret.service_account_token.value}",
        "note" : "${resource.bitwarden-sm_secret.service_account_token.note}",
        "project_id" : "${resource.bitwarden-sm_secret.service_account_token.project_id}",
        "organization_id" : "${resource.bitwarden-sm_secret.service_account_token.organization_id}",
        "creation_date" : "${resource.bitwarden-sm_secret.service_account_token.creation_date}",
        "revision_date" : "${resource.bitwarden-sm_secret.service_account_token.revision_date}"
    }
}
EOF
  filename = "${path.module}/service_account_token.json"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `key` (String) String representation of the `key` of the secret. Inside Bitwarden Secrets Manager this is called "name".

### Optional

- `avoid_ambiguous` (Boolean) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. When set to true, the generated secret will not contain ambiguous characters. The ambiguous characters are: `I`, `O`, `l`, `0`, `1`. The provided default is false.
- `length` (Number) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. The length of the generated secret. Note that the length of the value must be greater than the sum of all the minimums. The provided default length is 64.
- `lowercase` (Boolean) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. Configures the secret generator to include lowercase characters `(a-z)`.  The provided default is true.
- `min_lowercase` (Number) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. Configures the minimum number of lowercase characters in the generated secret. When set, the value must be between 1 and 9. This value is ignored if `lowercase` is false.
- `min_number` (Number) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. Configures the minimum number of numbers in the generated secret. When set, the value must be between 1 and 9. This value is ignored if `numbers` is false.
- `min_special` (Number) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. Configures the minimum number of special characters in the generated secret. When set, the value must be between 1 and 9. This value is ignored if `special` is false.
- `min_uppercase` (Number) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. Configures the minimum number of uppercase characters in the generated secret. When set, the value must be between 1 and 9. This value is ignored if `uppercase` is false.
- `note` (String) String representation of the `note` of the secret inside Bitwarden Secrets Manager.
- `numbers` (Boolean) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. Configures the secret generator to include numbers `(0-9)`. The provided default is true.
- `project_id` (String) String representation of the `ID` of the project to which the secret belongs. If the used machine account has no read access to this project, access will not be granted.
- `special` (Boolean) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. Configures the secret generator to include special characters: `!` `@` `#` `$` `%` `^` `&` `*`.
- `uppercase` (Boolean) Ignored if value is provided explicitly or secret is updated dynamically in Bitwarden Secrets Manager. Configures the secret generator to include uppercase characters `(A-Z)`. The provided default is true.
- `value` (String, Sensitive) String representation of the `value` of the secret inside Bitwarden Secrets Manager. This attribute is sensitive. The Dynamic Secrets feature enables compatibility with secret `value` changes in Bitwarden Secrets Manager without changes to the terraform plan.

### Read-Only

- `creation_date` (String) String representation of the creation date of the secret.
- `id` (String) String representation of the `ID` of the secret inside Bitwarden Secrets Manager.
- `organization_id` (String) String representation of the `ID` of the organization to which the secret belongs.
- `revision_date` (String) String representation of the revision date of the secret.
