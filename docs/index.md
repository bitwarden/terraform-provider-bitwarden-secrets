---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "bitwarden-sm Provider"
subcategory: ""
description: |-
  Interacts with Bitwarden Secrets Manager.
---

# Terraform Provider -  Bitwarden Secrets Manager

## Usage

### Fetching Projects

In order to fetch a list of Projects which are accessible by the configured machine account, the `projects` **data source** should be used.
Its specific documentation and examples can be found here: [`projects.md`](./data-sources/projects.md).

### Listing Secrets

In order to fetch a list of secrets which are accessible by the configured machine account, the `list_secrets` **data source** should be used.
This data source only a limited amount of information about listed secrets: `id` and the `key`.
Its specific documentation and examples can be found here: [`list_secrets.md`](./data-sources/list_secrets.md).

### Reading Secrets

To read all available information about a specific secret, the `secret` **data source** should be used.
Provided the configured machine accounts has `read` access to the corresponding project, this data sources returns all information and can be used to inject the secret `value` into other terraform objects.
Its specific documentation and examples can be found here: [`secret.md`](./data-sources/secret.md).

### Managing Secrets

The `secret` **resource** is the right terraform object to create and manipulate secrets.
It implements the co-ownership of secrets stored in Bitwarden Secrets Manager.
Its specific documentation and examples can be found here: [`secret.md`](./resource/secret.md).

#### Dynamic Secrets

This feature supports secret `value` updates in Bitwarden Secrets Manager without requiring manual updates in Terraform configurations.
Provided that no explicit secret `value` has been provided, changes to the secret `value` in Bitwarden Secrets Manager will get imported by the provider.
Terraform resources which are consuming the secret will get updated accordingly, following their specific implementations.

### Importing an existing Secret into Terraform State

To import an existing secret into the `terraform` state and configuration, the following steps are necessary:

1. Add a secret resource to the `terraform` configuration file:
    ```terraform
    resource "bitwarden-sm_secret" "secret" {}
    ```
2. Get the ID of the secret to be imported from Bitwarden Secrets Manager
3. Execute the following command to import the secret into the `terraform` state:
    ```bash
    $ terraform import "bitwarden-sm_secret.secret" "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"

    bitwarden-sm_secret.secret: Import prepared!
    Prepared bitwarden-sm_secret for import
    bitwarden-sm_secret.secret: Refreshing state... [id=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx]

    Import successful!

    The resources that were imported are shown above. These resources are now in
    your Terraform state and will henceforth be managed by Terraform.
    ```
4. Execute `terraform show` in order to see the imported information. The most important one for the next step is `key`:
    ```bash
   $ terraform show

    # bitwarden-sm_secret.secret:
    resource "bitwarden-sm_secret" "secret" {
      creation_date   = "2024-07-01T00:00:00.000000000Z"
      id              = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
      key             = "Key"
      note            = "Note"
      organization_id = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
      project_id      = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
      revision_date   = "2024-07-01T00:00:00.000000000Z"
      value           = (sensitive value)
    }
    ```
5. Take the `key` and update the `terraform` configuration file. This is necessary because `key` is the only required configuration value.
    ```terraform
    resource "bitwarden-sm_secret" "secret" {
      key = "Key"
    }
    ```

## Configuration

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `access_token` (String, Sensitive) `Access Token` of the used Machine Account for Bitwarden Secrets Manager. This configuration value is _**optional**_ because it can also be provided via `BW_ACCESS_TOKEN` environment variable. However, it **must be provided** in one of these two ways.
- `api_url` (String) URI for the **Bitwarden Secrets Manager** `API` endpoint. This configuration value is _**optional**_ because it can also be provided via `BW_API_URL` environment variable.  However, it **must be provided** in one of these two ways.
- `identity_url` (String) URI for the **Bitwarden Secrets Manager** `IDENTITY` endpoint. This configuration value is _**optional**_ because it can also be provided via `BW_IDENTITY_API_URL` environment variable. However, it **must be provided** in one of these two ways.
- `organization_id` (String, Sensitive) The `ID` of your Organization in Bitwarden Secrets Manager endpoints. This configuration value is _**optional**_ because it can also be provided via `BW_ORGANIZATION_ID` environment variable. However, it **must be provided** in one of these two ways.

## Example Provider Configuration

```terraform
terraform {
  required_providers {
    bitwarden-sm = {
      source = "registry.terraform.io/bitwarden/bitwarden-sm"
    }
  }
}

provider "bitwarden-sm" {
  api_url         = "https://api.bitwarden.com"
  identity_url    = "https://identity.bitwarden.com"
  access_token    = "< secret machine account access token >"
  organization_id = "< your organization uuid >"
}
```
